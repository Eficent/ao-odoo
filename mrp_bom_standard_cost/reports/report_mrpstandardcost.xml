<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!--<template id="report_mrpbom_standard_cost_html">-->
        <!--<div class="o_bom_standard_cost_reports_page">-->
            <!--<t t-call="mrp_bom_standard_cost.internal_layout">-->
                <!--<t t-call="mrp_bom_standard_cost.report_mrpbom_standard_cost"/>-->
            <!--</t>-->
        <!--</div>-->
    <!--</template>-->

    <template id="report_mrpbom_standard_cost_html">
        <t t-call="mrp_bom_standard_cost.report_mrpbom_standard_cost"/>
    </template>

    <template id="report_mrpbom_standard_cost">
        <t t-call="web.html_container">
            <t t-call="web.internal_layout">
                <div class="page">
                    <h2>BOM Standard Cost Report</h2>
                     <t t-foreach="docs" t-as="o">
                         <table class="table table-condensed">
                            <thead>
                                <tr>
                                    <th>Level</th>
                                    <th>Product</th>
                                    <th>Quantity</th>
                                    <th>Materials</th>
                                    <th>Total Materials</th>
                                    <th>Labor</th>
                                    <th>Total Labor</th>
                                    <th>Overhead</th>
                                    <th>Total Overhead</th>
                                    <th>Total Cost</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="font-weight: bold;">
                                    <td>0</td>
                                    <td>
                                        <t t-set="res_model" t-value="'product.product'"/>
                                        <span>
                                            <a t-att-data-active-id="o.product_id.id"
                                               t-att-data-res-model="res_model"
                                               class="o_bom_standard_cost_product"
                                               style="color: black;"><t t-raw="o.product_id.display_name"/></a>
                                        </span>
                                        <!--<span t-field="o.product_id.display_name"/>-->
                                    </td>
                                    <td>
                                        <span t-field="o.product_qty"/>
                                        <span groups="product.group_uom" t-field="o.product_uom_id.name"/>
                                    </td>
                                    <td>
                                        <span t-field="o.bom_id.standard_cost_only_material"/>
                                    </td>
                                    <td>
                                        <span t-field="o.bom_id.standard_cost_material"/>
                                    </td>
                                    <td>
                                        <span t-field="o.bom_id.standard_cost_labor"/>
                                    </td>
                                    <td>
                                        <span t-field="o.bom_id.standard_total_cost_labor"/>
                                    </td>
                                    <td>
                                        <span t-field="o.bom_id.standard_cost_overhead"/>
                                    </td>
                                    <td>
                                        <span t-field="o.bom_id.standard_total_cost_overhead"/>
                                    </td>
                                    <td>
                                        <span t-field="o.bom_id.standard_cost_total"/>
                                    </td>
                                </tr>
                                <tr t-foreach="o.line_ids" t-as="l">
                                    <td>
                                        <span t-field="l.bom_level"/>
                                    </td>
                                    <td>
                                        <span style="color: white;"
                                              t-esc="'&#160;&#160;&#160; '*(l.bom_level)"/>
                                        <span t-esc="l.product_id.display_name"/>
                                    </td>
                                    <td>
                                        <span t-esc="l.product_qty"/>
                                        <span t-esc="l.product_uom_id.name"
                                              groups="product.group_uom"/>
                                    </td>
                                    <td>
                                        <span t-field="l.standard_cost_only_material"/>
                                    </td>
                                    <td>
                                        <span t-field="l.standard_cost_material"/>
                                    </td>
                                    <td>
                                        <span t-field="l.standard_cost_labor"/>
                                    </td>
                                    <td>
                                        <span t-field="l.standard_total_cost_labor"/>
                                    </td>
                                    <td>
                                        <span t-field="l.standard_cost_overhead"/>
                                    </td>
                                    <td>
                                        <span t-field="l.standard_total_cost_overhead"/>
                                    </td>
                                    <td>
                                        <span t-field="l.standard_cost_total"/>
                                    </td>
                                </tr>
                            </tbody>
                         </table>
                     </t>
                </div>
            </t>
        </t>
    </template>

    <report
        id="action_report_bom_standard_cost"
        model="mrp.bom.standard.cost"
        string="BoM: Standard Cost Report"
        report_type="qweb-pdf"
        name="mrp_bom_standard_cost.report_mrpbom_standard_cost"
    />

     <report
          id="action_report_mrp_bom_standard_cost_html"
          model="mrp.bom.standard.cost"
          string="BoM Standard Cost Preview"
          report_type="qweb-html"
          name="mrp_bom_standard_cost.report_mrpbom_standard_cost_html"
          file="mrp_bom_standard_cost.report_mrpbom_standard_cost_html"
      />

</odoo>
